---
import { Tabs, TabItem, Code } from "@astrojs/starlight/components";
import { LATEST_ADVENTURE_PLATFORM_MOD_RELEASE } from "/src/utils/versions";

interface Props {
  platform: string;
}

const props: Props = Astro.props;
const mavenCoords = `net.kyori:adventure-platform-${props.platform}:${LATEST_ADVENTURE_PLATFORM_MOD_RELEASE}`;

const groovy = `
  repositories {
    // for development builds
    maven {
        name = "sonatype-oss-snapshots1"
        url = "https://s01.oss.sonatype.org/content/repositories/snapshots/"
        mavenContent { snapshotsOnly() }
    }
    // for releases
    mavenCentral()
  }

  dependencies {
      modImplementation include("${mavenCoords}") // for Minecraft 1.21.5
  }
`;

const kotlin = `
  repositories {
    // for development builds
    maven(url = "https://s01.oss.sonatype.org/content/repositories/snapshots/") {
        name = "sonatype-oss-snapshots1"
        mavenContent { snapshotsOnly() }
    }
    // for releases
    mavenCentral()
  }

  dependencies {
      modImplementation(include("${mavenCoords}")!!) // for Minecraft 1.21.5
  }
`;
---

<Tabs syncKey="build-system">
  <TabItem label="Gradle (Groovy)">
    <Code lang="groovy" code={groovy} />
  </TabItem>
  <TabItem label="Gradle (Kotlin)">
    <Code lang="kotlin" code={kotlin} />
  </TabItem>
</Tabs>
